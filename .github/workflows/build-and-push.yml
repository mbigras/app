name: build-and-push

on:
- push

jobs:
  build-and-push:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout
      uses: actions/checkout@v3

    - name: Build Docker image
      run: ./build.sh

    - name: Login to Docker Hub
      run: ./login.sh
      env:
        DOCKERHUB_USERNAME: "${{ secrets.DOCKERHUB_USERNAME }}"
        DOCKERHUB_TOKEN: "${{ secrets.DOCKERHUB_TOKEN }}"

    - name: Push Docker image
      run: ./push.sh
